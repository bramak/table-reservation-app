<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <script src="../../utils/detailsscripts.js"></script>
  <body>
    <div id="headerdetails" class="flex-container">
    </div>
    

    <script>

      // List Element
      const ul = document.querySelector("#business");

      // API URL
      const url = "http://localhost:3001/business";

      // make the API call
      fetch(url)
        .then((res) => res.json())
        .then((data) => {
          // iterate over items
          const listitems = data.forEach((item) => {
            // create the elements
            const tile = `
          <div class="tile">
                <div class="mainbox">
                <div class="imgclass"><img class="image" src="${item.thumbnail}" alt="loading image please wait" onerror=this.src="../../imageicondata/food.png" /></div>
                <div class="overlay"></div>
                <div class="buttonoverlay">
                <div class="restname">${item.name}</div>
                <div class="ratingbox">
                <img src="../../imageicondata/star.svg" width="16" height="16" /> ${item.stars}
                </div>
                </div>
                </div>
                <form action="../restaraunt-descriptions/index.html#/${item.business_id}">
                <div class="bottommain">
                <button type="submit" class="button">View Details</button></form>
                </div>
                <br><br><br><br>
        </div>
        `;
            console.log(item);
            document
              .getElementById("headerdetails")
              .appendChild(createElementFromHTML(tile));
          });
        })
        .catch((err) => {
          console.error("Error: ", err);
        });
    </script>
  </body>
</html>
